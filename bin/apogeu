#!/usr/bin/env node

const argv = require('yargs')
  .help('help')
  .alias('help', 'h', '?')
  .version()
  .alias('version', 'v')
  .option('start', {
    alias: 's',
    describe: 'Start project',
  })
  .option('new', {
    alias: 'n',
    describe: 'New project',
  })
  .option('create', {
    alias: 'c',
    describe: 'Create model structure',
  })
  .option('debug', {
    alias: 'd',
    describe: 'Execute command in debug mode',
  })
  .argv;

require('../src/bluebird');

if (argv.debug) process.env.DEBUG = 'apogeu:*';
const debug = require('debug')('apogeu:apogeu');

debug('init apogeu');

if (argv.start) require('./www');
if (argv.new) require('./new')(argv.new === true ? undefined : argv.new);
if (argv.create) require('./create')(argv.create);
